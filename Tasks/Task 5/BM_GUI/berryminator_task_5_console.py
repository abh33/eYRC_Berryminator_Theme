# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'berryminator_task_5_console.ui'
#
# Created by: PyQt5 UI code generator 5.15.4
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
import os
import sys
import json
import csv
import cryptocode
import re


theme_config = None
# import logo_rc

def calculate_bonus(CI, CP, CD, Collisions, end_simulation_time):
    blueberry = theme_config["B"][0]
    strawberry = theme_config["S"][0]
    lemon = theme_config["L"][0]
    blueberry_num, blueberry_collection_box = int(blueberry[0]), blueberry[2:]
    strawberry_num, strawberry_collection_box = int(strawberry[0]), strawberry[2:]
    lemon_num, lemon_collection_box = int(lemon[0]), lemon[2:]

    print(blueberry_num, strawberry_num, lemon_num, blueberry_collection_box, strawberry_collection_box, lemon_collection_box)

    if len(Collisions) > 0:
        return 'N'
    if float(end_simulation_time) >= 600:
        return 'N'

    ci_flag = None
    cp_flag = None
    cd_flag = None

    if CI.count("Blueberry") == blueberry_num and  CI.count("Strawberry") == strawberry_num and CI.count("Lemon") == lemon_num:
        ci_flag = True
    else:
        ci_flag = False

    if CP.count("Blueberry") == blueberry_num and  CP.count("Strawberry") == strawberry_num and CP.count("Lemon") == lemon_num:
        cp_flag = True
    else:
        cp_flag = False

    if CD.count("Blueberry") == blueberry_num and  CD.count("Strawberry") == strawberry_num and CD.count("Lemon") == lemon_num:
        cd_flag = True
    else:
        cd_flag = False

    print(ci_flag, cp_flag, cd_flag)

    if ci_flag and cp_flag and cd_flag:
        return 'Y'
    else:
        return 'N'



def decode_result_file(filename):
    f = open(filename, "r")
    content = f.readlines()

    # Extracting team no and score
    i = 1
    for x in content:
        if   i == 1:
            team_id = cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i == 2:
            dt = cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i == 3:
            platform = cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i == 4:
            mac = cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i == 5:
            ci = cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i == 6:
            cp = cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i == 7:
            cd = cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i == 8:
            collisions = cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i==9:
            mass_of_arm=cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i == 10:
            path = cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i == 11:
            output_list_child = cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i == 12:
            eval_rtf_python = cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i == 13:
            end_simulation_time = cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i == 14:
            init_real_time = cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i == 15:
            end_real_time = cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i == 16:
            rtf_python = cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i == 17:
            eval_all_dynamics = cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i == 18:
            eval_no_of_joints = cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i == 19:
            no_of_joints = cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i == 20:
            torque = cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i == 21:
            force = cryptocode.decrypt(x, "?8G]tzGW{T")
        elif i == 22:
            individual_values = cryptocode.decrypt(x, "?8G]tzGW{T")
        i += 1

    # print("Team no                         : ", team_id)
    # print("Date and Time                   : ", dt)
    # print("Platform                        : ", platform)
    # print("Mac                             : ", mac)
    # print("Correctly Identified            : ", ci)
    # print("Correctly Plucked               : ", cp)
    # print("Correctly Dropped               : ", cd)
    # print("Collisions                      : ", collisions)
    # print("Mass of Arm                     : ", mass_of_arm)
    # print("Path                            : ", path)
    # print("output_list_child               : ", output_list_child)
    # print("eval rtf                        : ", eval_rtf_python)
    # print("Total simulation time           : ", end_simulation_time)
    # print("Init real time                  : ", init_real_time)
    # print("End real time                   : ", end_real_time)
    # print("RTF from Python                 : ", rtf_python)
    # print("Eval all dynamics               : ", eval_all_dynamics)
    # print("Eval no of joints               : ", eval_no_of_joints)
    # print("No. of joints                   : ", no_of_joints)
    # print("Torque                          : ", torque)
    # print("Force                           : ", force)
    # print("Indivdual Values                : ", individual_values)

    ci = (ci[1:-1]).split(",")
    CI = []
    for k in ci:
        a = (re.sub(r"[^a-zA-Z0-9]+", ' ', k))[1:-1]
        CI.append(a)

    cp = (cp[1:-1]).split(",")
    CP = []
    for k in cp:
        a = (re.sub(r"[^a-zA-Z0-9]+", ' ', k))[1:-1]
        CP.append(a)

    cd = (cd[1:-1]).split(",")
    CD = []
    for k in cd:
        a = (re.sub(r"[^a-zA-Z0-9]+", ' ', k))[1:-1]

        CD.append(a)

    collisions = (collisions[1:-1]).split(",")
    Collisions = []
    for k in collisions:
        a = (re.sub(r"'", ' ', k))[1:-1]
        if a[0] == " ":
            a = a[1:]
        Collisions.append(a)

    print(Collisions)

    bonus = calculate_bonus(CI, CP, CD, Collisions, end_simulation_time)

    return [team_id, dt, CI, CP, CD, Collisions, bonus, end_simulation_time, init_real_time]





class Ui_Dialog(object):
    def setupUi(self, Dialog):
        Dialog.setObjectName("Dialog")
        Dialog.resize(770, 540)
        Dialog.setStyleSheet("background-color: rgb(255, 255, 255);")
        self.header1 = QtWidgets.QLabel(Dialog)
        self.header1.setGeometry(QtCore.QRect(10, 10, 245, 50))
        self.header1.setStyleSheet("")
        self.header1.setText("")
        self.header1.setPixmap(QtGui.QPixmap("logo_eyantra.png"))
        self.header1.setScaledContents(True)
        self.header1.setObjectName("header1")
        self.header3 = QtWidgets.QLabel(Dialog)
        self.header3.setGeometry(QtCore.QRect(520, 10, 240, 50))
        font = QtGui.QFont()
        font.setFamily("HighlandGothicFLF")
        font.setPointSize(16)
        font.setBold(True)
        font.setWeight(75)
        self.header3.setFont(font)
        self.header3.setScaledContents(False)
        self.header3.setAlignment(QtCore.Qt.AlignCenter)
        self.header3.setWordWrap(True)
        self.header3.setIndent(0)
        self.header3.setObjectName("header3")
        self.console_output = QtWidgets.QTextEdit(Dialog)
        self.console_output.setGeometry(QtCore.QRect(330, 240, 420, 230))
        self.console_output.setObjectName("console_output")
        self.label_output_console = QtWidgets.QLabel(Dialog)
        self.label_output_console.setGeometry(QtCore.QRect(330, 200, 131, 30))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.label_output_console.setFont(font)
        self.label_output_console.setObjectName("label_output_console")
        self.end_process = QtWidgets.QPushButton(Dialog)
        self.end_process.setGeometry(QtCore.QRect(530, 490, 130, 30))
        font = QtGui.QFont()
        font.setFamily("HighlandGothicFLF")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.end_process.setFont(font)
        self.end_process.setStyleSheet("background-color: rgb(255, 255, 0);\n"
"color: rgb(0, 0, 0);")
        self.end_process.setObjectName("end_process")
        self.exit = QtWidgets.QPushButton(Dialog)
        self.exit.setGeometry(QtCore.QRect(680, 490, 70, 30))
        font = QtGui.QFont()
        font.setFamily("HighlandGothicFLF")
        font.setPointSize(12)
        font.setBold(True)
        font.setWeight(75)
        self.exit.setFont(font)
        self.exit.setStyleSheet("background-color: rgb(255, 255, 0);\n"
"color: rgb(0, 0, 0);")
        self.exit.setObjectName("exit")
        self.label_theme_config = QtWidgets.QLabel(Dialog)
        self.label_theme_config.setGeometry(QtCore.QRect(20, 80, 261, 31))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.label_theme_config.setFont(font)
        self.label_theme_config.setFrameShape(QtWidgets.QFrame.Box)
        self.label_theme_config.setAlignment(QtCore.Qt.AlignCenter)
        self.label_theme_config.setObjectName("label_theme_config")
        self.label_blueberry = QtWidgets.QLabel(Dialog)
        self.label_blueberry.setGeometry(QtCore.QRect(20, 110, 101, 41))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.label_blueberry.setFont(font)
        self.label_blueberry.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.label_blueberry.setStyleSheet("")
        self.label_blueberry.setFrameShape(QtWidgets.QFrame.Box)
        self.label_blueberry.setAlignment(QtCore.Qt.AlignCenter)
        self.label_blueberry.setObjectName("label_blueberry")
        self.label_strawberry = QtWidgets.QLabel(Dialog)
        self.label_strawberry.setGeometry(QtCore.QRect(20, 150, 101, 41))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.label_strawberry.setFont(font)
        self.label_strawberry.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.label_strawberry.setStyleSheet("")
        self.label_strawberry.setFrameShape(QtWidgets.QFrame.Box)
        self.label_strawberry.setAlignment(QtCore.Qt.AlignCenter)
        self.label_strawberry.setObjectName("label_strawberry")
        self.label_lemon = QtWidgets.QLabel(Dialog)
        self.label_lemon.setGeometry(QtCore.QRect(20, 190, 101, 41))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.label_lemon.setFont(font)
        self.label_lemon.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.label_lemon.setStyleSheet("")
        self.label_lemon.setFrameShape(QtWidgets.QFrame.Box)
        self.label_lemon.setAlignment(QtCore.Qt.AlignCenter)
        self.label_lemon.setObjectName("label_lemon")
        self.blueberry1 = QtWidgets.QLabel(Dialog)
        self.blueberry1.setGeometry(QtCore.QRect(120, 110, 41, 41))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.blueberry1.setFont(font)
        self.blueberry1.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.blueberry1.setStyleSheet("")
        self.blueberry1.setFrameShape(QtWidgets.QFrame.Box)
        self.blueberry1.setText("")
        # self.blueberry1.setPixmap(QtGui.QPixmap("blueberry.png"))
        self.blueberry1.setScaledContents(True)
        self.blueberry1.setAlignment(QtCore.Qt.AlignCenter)
        self.blueberry1.setObjectName("blueberry1")
        self.blueberry2 = QtWidgets.QLabel(Dialog)
        self.blueberry2.setGeometry(QtCore.QRect(160, 110, 41, 41))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.blueberry2.setFont(font)
        self.blueberry2.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.blueberry2.setStyleSheet("")
        self.blueberry2.setFrameShape(QtWidgets.QFrame.Box)
        self.blueberry2.setText("")
        # self.blueberry2.setPixmap(QtGui.QPixmap("blueberry.png"))
        self.blueberry2.setScaledContents(True)
        self.blueberry2.setAlignment(QtCore.Qt.AlignCenter)
        self.blueberry2.setObjectName("blueberry2")
        self.blueberry3 = QtWidgets.QLabel(Dialog)
        self.blueberry3.setGeometry(QtCore.QRect(200, 110, 41, 41))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.blueberry3.setFont(font)
        self.blueberry3.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.blueberry3.setStyleSheet("")
        self.blueberry3.setFrameShape(QtWidgets.QFrame.Box)
        self.blueberry3.setText("")
        # self.blueberry3.setPixmap(QtGui.QPixmap("blueberry.png"))
        self.blueberry3.setScaledContents(True)
        self.blueberry3.setAlignment(QtCore.Qt.AlignCenter)
        self.blueberry3.setObjectName("blueberry3")
        self.strawberry1 = QtWidgets.QLabel(Dialog)
        self.strawberry1.setGeometry(QtCore.QRect(120, 150, 41, 41))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.strawberry1.setFont(font)
        self.strawberry1.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.strawberry1.setStyleSheet("")
        self.strawberry1.setFrameShape(QtWidgets.QFrame.Box)
        self.strawberry1.setText("")
        # self.strawberry1.setPixmap(QtGui.QPixmap("strawberry.png"))
        self.strawberry1.setScaledContents(True)
        self.strawberry1.setAlignment(QtCore.Qt.AlignCenter)
        self.strawberry1.setObjectName("strawberry1")
        self.lemon1 = QtWidgets.QLabel(Dialog)
        self.lemon1.setGeometry(QtCore.QRect(120, 190, 41, 41))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.lemon1.setFont(font)
        self.lemon1.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.lemon1.setStyleSheet("")
        self.lemon1.setFrameShape(QtWidgets.QFrame.Box)
        self.lemon1.setText("")
        # self.lemon1.setPixmap(QtGui.QPixmap("lemon.png"))
        self.lemon1.setScaledContents(True)
        self.lemon1.setAlignment(QtCore.Qt.AlignCenter)
        self.lemon1.setObjectName("lemon1")
        self.strawberry2 = QtWidgets.QLabel(Dialog)
        self.strawberry2.setGeometry(QtCore.QRect(160, 150, 41, 41))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.strawberry2.setFont(font)
        self.strawberry2.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.strawberry2.setStyleSheet("")
        self.strawberry2.setFrameShape(QtWidgets.QFrame.Box)
        self.strawberry2.setText("")
        # self.strawberry2.setPixmap(QtGui.QPixmap("strawberry.png"))
        self.strawberry2.setScaledContents(True)
        self.strawberry2.setAlignment(QtCore.Qt.AlignCenter)
        self.strawberry2.setObjectName("strawberry2")
        self.strawberry3 = QtWidgets.QLabel(Dialog)
        self.strawberry3.setGeometry(QtCore.QRect(200, 150, 41, 41))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.strawberry3.setFont(font)
        self.strawberry3.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.strawberry3.setStyleSheet("")
        self.strawberry3.setFrameShape(QtWidgets.QFrame.Box)
        self.strawberry3.setText("")
        # self.strawberry3.setPixmap(QtGui.QPixmap("strawberry.png"))
        self.strawberry3.setScaledContents(True)
        self.strawberry3.setAlignment(QtCore.Qt.AlignCenter)
        self.strawberry3.setObjectName("strawberry3")
        self.lemon2 = QtWidgets.QLabel(Dialog)
        self.lemon2.setGeometry(QtCore.QRect(160, 190, 41, 41))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.lemon2.setFont(font)
        self.lemon2.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.lemon2.setStyleSheet("")
        self.lemon2.setFrameShape(QtWidgets.QFrame.Box)
        self.lemon2.setText("")
        # self.lemon2.setPixmap(QtGui.QPixmap("lemon.png"))
        self.lemon2.setScaledContents(True)
        self.lemon2.setAlignment(QtCore.Qt.AlignCenter)
        self.lemon2.setObjectName("lemon2")
        self.lemon3 = QtWidgets.QLabel(Dialog)
        self.lemon3.setGeometry(QtCore.QRect(200, 190, 41, 41))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.lemon3.setFont(font)
        self.lemon3.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.lemon3.setStyleSheet("")
        self.lemon3.setFrameShape(QtWidgets.QFrame.Box)
        self.lemon3.setText("")
        # self.lemon3.setPixmap(QtGui.QPixmap("lemon.png"))
        self.lemon3.setScaledContents(True)
        self.lemon3.setAlignment(QtCore.Qt.AlignCenter)
        self.lemon3.setObjectName("lemon3")
        self.blueberry_box = QtWidgets.QLabel(Dialog)
        self.blueberry_box.setGeometry(QtCore.QRect(240, 110, 41, 41))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.blueberry_box.setFont(font)
        self.blueberry_box.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.blueberry_box.setStyleSheet("")
        self.blueberry_box.setFrameShape(QtWidgets.QFrame.Box)
        self.blueberry_box.setAlignment(QtCore.Qt.AlignCenter)
        self.blueberry_box.setObjectName("blueberry_box")
        self.strawberry_box = QtWidgets.QLabel(Dialog)
        self.strawberry_box.setGeometry(QtCore.QRect(240, 150, 41, 41))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.strawberry_box.setFont(font)
        self.strawberry_box.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.strawberry_box.setStyleSheet("")
        self.strawberry_box.setFrameShape(QtWidgets.QFrame.Box)
        self.strawberry_box.setAlignment(QtCore.Qt.AlignCenter)
        self.strawberry_box.setObjectName("strawberry_box")
        self.lemon_box = QtWidgets.QLabel(Dialog)
        self.lemon_box.setGeometry(QtCore.QRect(240, 190, 41, 41))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.lemon_box.setFont(font)
        self.lemon_box.setLayoutDirection(QtCore.Qt.LeftToRight)
        self.lemon_box.setStyleSheet("")
        self.lemon_box.setFrameShape(QtWidgets.QFrame.Box)
        self.lemon_box.setAlignment(QtCore.Qt.AlignCenter)
        self.lemon_box.setObjectName("lemon_box")
        self.label_ci = QtWidgets.QLabel(Dialog)
        self.label_ci.setGeometry(QtCore.QRect(20, 290, 211, 31))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.label_ci.setFont(font)
        self.label_ci.setFrameShape(QtWidgets.QFrame.Box)
        self.label_ci.setAlignment(QtCore.Qt.AlignCenter)
        self.label_ci.setObjectName("label_ci")
        self.label_cp = QtWidgets.QLabel(Dialog)
        self.label_cp.setGeometry(QtCore.QRect(20, 320, 211, 31))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.label_cp.setFont(font)
        self.label_cp.setFrameShape(QtWidgets.QFrame.Box)
        self.label_cp.setAlignment(QtCore.Qt.AlignCenter)
        self.label_cp.setObjectName("label_cp")
        self.label_cd = QtWidgets.QLabel(Dialog)
        self.label_cd.setGeometry(QtCore.QRect(20, 350, 211, 31))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.label_cd.setFont(font)
        self.label_cd.setFrameShape(QtWidgets.QFrame.Box)
        self.label_cd.setAlignment(QtCore.Qt.AlignCenter)
        self.label_cd.setObjectName("label_cd")
        self.label_time = QtWidgets.QLabel(Dialog)
        self.label_time.setGeometry(QtCore.QRect(20, 260, 211, 31))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.label_time.setFont(font)
        self.label_time.setFrameShape(QtWidgets.QFrame.Box)
        self.label_time.setAlignment(QtCore.Qt.AlignCenter)
        self.label_time.setObjectName("label_time")
        self.label_penalty = QtWidgets.QLabel(Dialog)
        self.label_penalty.setGeometry(QtCore.QRect(20, 380, 211, 31))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.label_penalty.setFont(font)
        self.label_penalty.setFrameShape(QtWidgets.QFrame.Box)
        self.label_penalty.setAlignment(QtCore.Qt.AlignCenter)
        self.label_penalty.setObjectName("label_penalty")
        self.label_bonus = QtWidgets.QLabel(Dialog)
        self.label_bonus.setGeometry(QtCore.QRect(20, 410, 211, 31))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.label_bonus.setFont(font)
        self.label_bonus.setFrameShape(QtWidgets.QFrame.Box)
        self.label_bonus.setAlignment(QtCore.Qt.AlignCenter)
        self.label_bonus.setObjectName("label_bonus")
        self.num_seconds = QtWidgets.QLabel(Dialog)
        self.num_seconds.setGeometry(QtCore.QRect(230, 260, 65, 31))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.num_seconds.setFont(font)
        self.num_seconds.setFrameShape(QtWidgets.QFrame.Box)
        self.num_seconds.setAlignment(QtCore.Qt.AlignCenter)
        self.num_seconds.setObjectName("num_seconds")
        self.num_ci = QtWidgets.QLabel(Dialog)
        self.num_ci.setGeometry(QtCore.QRect(230, 290, 65, 31))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.num_ci.setFont(font)
        self.num_ci.setFrameShape(QtWidgets.QFrame.Box)
        self.num_ci.setAlignment(QtCore.Qt.AlignCenter)
        self.num_ci.setObjectName("num_ci")
        self.num_cp = QtWidgets.QLabel(Dialog)
        self.num_cp.setGeometry(QtCore.QRect(230, 320, 65, 31))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.num_cp.setFont(font)
        self.num_cp.setFrameShape(QtWidgets.QFrame.Box)
        self.num_cp.setAlignment(QtCore.Qt.AlignCenter)
        self.num_cp.setObjectName("num_cp")
        self.num_cd = QtWidgets.QLabel(Dialog)
        self.num_cd.setGeometry(QtCore.QRect(230, 350, 65, 31))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.num_cd.setFont(font)
        self.num_cd.setFrameShape(QtWidgets.QFrame.Box)
        self.num_cd.setAlignment(QtCore.Qt.AlignCenter)
        self.num_cd.setObjectName("num_cd")
        self.num_penalty = QtWidgets.QLabel(Dialog)
        self.num_penalty.setGeometry(QtCore.QRect(230, 380, 65, 31))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.num_penalty.setFont(font)
        self.num_penalty.setFrameShape(QtWidgets.QFrame.Box)
        self.num_penalty.setAlignment(QtCore.Qt.AlignCenter)
        self.num_penalty.setObjectName("num_penalty")
        self.bonus = QtWidgets.QLabel(Dialog)
        self.bonus.setGeometry(QtCore.QRect(230, 410, 65, 31))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.bonus.setFont(font)
        self.bonus.setFrameShape(QtWidgets.QFrame.Box)
        self.bonus.setAlignment(QtCore.Qt.AlignCenter)
        self.bonus.setObjectName("bonus")
        self.label_score = QtWidgets.QLabel(Dialog)
        self.label_score.setGeometry(QtCore.QRect(160, 490, 161, 31))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.label_score.setFont(font)
        self.label_score.setFrameShape(QtWidgets.QFrame.NoFrame)
        self.label_score.setAlignment(QtCore.Qt.AlignCenter)
        self.label_score.setObjectName("label_score")
        self.final_score = QtWidgets.QLabel(Dialog)
        self.final_score.setGeometry(QtCore.QRect(320, 490, 91, 31))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.final_score.setFont(font)
        self.final_score.setFrameShape(QtWidgets.QFrame.NoFrame)
        self.final_score.setAlignment(QtCore.Qt.AlignCenter)
        self.final_score.setObjectName("final_score")
        self.header2 = QtWidgets.QLabel(Dialog)
        self.header2.setGeometry(QtCore.QRect(330, 10, 130, 40))
        font = QtGui.QFont()
        font.setFamily("Cambria")
        font.setPointSize(30)
        font.setBold(True)
        font.setUnderline(False)
        font.setWeight(75)
        font.setStrikeOut(False)
        self.header2.setFont(font)
        self.header2.setStyleSheet("color: rgb(0, 0, 0);")
        self.header2.setScaledContents(False)
        self.header2.setAlignment(QtCore.Qt.AlignCenter)
        self.header2.setWordWrap(True)
        self.header2.setIndent(0)
        self.header2.setObjectName("header2")
        self.teamid = QtWidgets.QLabel(Dialog)
        self.teamid.setGeometry(QtCore.QRect(550, 85, 80, 30))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(20)
        font.setBold(True)
        font.setWeight(75)
        self.teamid.setFont(font)
        self.teamid.setStyleSheet("color: rgb(255, 0, 0);")
        self.teamid.setFrameShape(QtWidgets.QFrame.NoFrame)
        self.teamid.setAlignment(QtCore.Qt.AlignCenter)
        self.teamid.setObjectName("teamid")
        self.label_college_name = QtWidgets.QLabel(Dialog)
        self.label_college_name.setGeometry(QtCore.QRect(290, 130, 130, 25))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(16)
        font.setBold(True)
        font.setWeight(75)
        self.label_college_name.setFont(font)
        self.label_college_name.setFrameShape(QtWidgets.QFrame.NoFrame)
        self.label_college_name.setAlignment(QtCore.Qt.AlignCenter)
        self.label_college_name.setWordWrap(True)
        self.label_college_name.setObjectName("label_college_name")
        self.college_name = QtWidgets.QLabel(Dialog)
        self.college_name.setGeometry(QtCore.QRect(450, 130, 280, 70))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(14)
        font.setBold(True)
        font.setWeight(75)
        self.college_name.setFont(font)
        self.college_name.setStyleSheet("color: rgb(255, 0, 0);")
        self.college_name.setFrameShape(QtWidgets.QFrame.NoFrame)
        self.college_name.setTextFormat(QtCore.Qt.AutoText)
        self.college_name.setAlignment(QtCore.Qt.AlignHCenter)
        self.college_name.setWordWrap(True)
        self.college_name.setObjectName("college_name")
        self.label_teamid = QtWidgets.QLabel(Dialog)
        self.label_teamid.setGeometry(QtCore.QRect(290, 90, 130, 20))
        font = QtGui.QFont()
        font.setFamily("Calibri")
        font.setPointSize(16)
        font.setBold(True)
        font.setWeight(75)
        self.label_teamid.setFont(font)
        self.label_teamid.setFrameShape(QtWidgets.QFrame.NoFrame)
        self.label_teamid.setAlignment(QtCore.Qt.AlignCenter)
        self.label_teamid.setWordWrap(True)
        self.label_teamid.setObjectName("label_teamid")
        self.retranslateUi(Dialog)
        QtCore.QMetaObject.connectSlotsByName(Dialog)
        global theme_config
        theme_config = json.load(open("theme_config.json"))
        self.show_theme_config(theme_config)
        team_id = 1584
        self.show_team_details(team_id)
        self.show_evaluation_parameters("task_4_result.txt")



    def retranslateUi(self, Dialog):
        _translate = QtCore.QCoreApplication.translate
        Dialog.setWindowTitle(_translate("Dialog", "Dialog"))
        self.header3.setText(_translate("Dialog", "Robotics Competition 2021-22"))
        self.label_output_console.setText(_translate("Dialog", "Output Console"))
        self.end_process.setText(_translate("Dialog", "End Process"))
        self.exit.setText(_translate("Dialog", "Exit"))
        self.label_theme_config.setText(_translate("Dialog", "Theme Configuration"))
        self.label_blueberry.setText(_translate("Dialog", "Blueberry"))
        self.label_strawberry.setText(_translate("Dialog", "Strawberry"))
        self.label_lemon.setText(_translate("Dialog", "Lemon"))
        self.blueberry_box.setText(_translate("Dialog", "CB1"))
        self.strawberry_box.setText(_translate("Dialog", "CB2"))
        self.lemon_box.setText(_translate("Dialog", "CB1"))
        self.label_ci.setText(_translate("Dialog", "Correct Identification (CI)"))
        self.label_cp.setText(_translate("Dialog", "Correct Pluck (CP)"))
        self.label_cd.setText(_translate("Dialog", "Correct Deposition (CD)"))
        self.label_time.setText(_translate("Dialog", "Time (in sec) (T)"))
        self.label_penalty.setText(_translate("Dialog", "Penalties (P)"))
        self.label_bonus.setText(_translate("Dialog", "Bonus (B)"))
        self.num_seconds.setText(_translate("Dialog", "0"))
        self.num_ci.setText(_translate("Dialog", "0"))
        self.num_cp.setText(_translate("Dialog", "0"))
        self.num_cd.setText(_translate("Dialog", "0"))
        self.num_penalty.setText(_translate("Dialog", "0"))
        self.bonus.setText(_translate("Dialog", "N"))
        self.label_score.setText(_translate("Dialog", "Total Score:"))
        self.final_score.setText(_translate("Dialog", "0000.00"))
        self.header2.setText(_translate("Dialog", "TASK 5"))
        self.teamid.setText(_translate("Dialog", "0000"))
        self.label_college_name.setText(_translate("Dialog", "College Name:"))
        self.college_name.setText(_translate("Dialog", "Pimpri Chinchwad Education Trust\'s Pimpri Chinchwad College of Engineering"))
        self.label_teamid.setText(_translate("Dialog", "Team ID:"))

    def show_theme_config(self, theme_config):
        blueberry = theme_config["B"][0]
        strawberry = theme_config["S"][0]
        lemon = theme_config["L"][0]
        blueberry_num, blueberry_collection_box = int(blueberry[0]), blueberry[2:]
        strawberry_num, strawberry_collection_box = int(strawberry[0]), strawberry[2:]
        lemon_num, lemon_collection_box = int(lemon[0]), lemon[2:]

        self.blueberry_box.setText(blueberry_collection_box)
        self.strawberry_box.setText(strawberry_collection_box)
        self.lemon_box.setText(lemon_collection_box)

        if blueberry_num == 1:
            self.blueberry1.setPixmap(QtGui.QPixmap("blueberry.png"))
        elif blueberry_num == 2:
            self.blueberry1.setPixmap(QtGui.QPixmap("blueberry.png"))
            self.blueberry2.setPixmap(QtGui.QPixmap("blueberry.png"))
        elif blueberry_num == 3:
            self.blueberry1.setPixmap(QtGui.QPixmap("blueberry.png"))
            self.blueberry2.setPixmap(QtGui.QPixmap("blueberry.png"))
            self.blueberry3.setPixmap(QtGui.QPixmap("blueberry.png"))
        else:
            pass

        if strawberry_num == 1:
            self.strawberry1.setPixmap(QtGui.QPixmap("strawberry.png"))
        elif strawberry_num == 2:
            self.strawberry1.setPixmap(QtGui.QPixmap("strawberry.png"))
            self.strawberry2.setPixmap(QtGui.QPixmap("strawberry.png"))
        elif strawberry_num == 3:
            self.strawberry1.setPixmap(QtGui.QPixmap("strawberry.png"))
            self.strawberry2.setPixmap(QtGui.QPixmap("strawberry.png"))
            self.strawberry3.setPixmap(QtGui.QPixmap("strawberry.png"))
        else:
            pass

        if lemon_num == 1:
            self.lemon1.setPixmap(QtGui.QPixmap("lemon.png"))
        elif lemon_num == 2:
            self.lemon1.setPixmap(QtGui.QPixmap("lemon.png"))
            self.lemon2.setPixmap(QtGui.QPixmap("lemon.png"))
        elif lemon_num == 3:
            self.lemon1.setPixmap(QtGui.QPixmap("lemon.png"))
            self.lemon2.setPixmap(QtGui.QPixmap("lemon.png"))
            self.lemon3.setPixmap(QtGui.QPixmap("lemon.png"))
        else:
            pass

    def show_team_details(self, team_id):
        team_details_csv = open("team_bm.csv")
        dict_reader = list(csv.DictReader(team_details_csv))
        team_dict = {}
        for i in dict_reader:
            teamid = i["Team ID"]
            college_name = i["College Name"]
            team_dict[teamid] = college_name
        
        print(team_id, team_dict[str(team_id)])
        self.teamid.setText(str(team_id))
        self.college_name.setText(team_dict[str(team_id)])

    def show_evaluation_parameters(self, result_filename):
        team_id, dt, ci, cp, cd, collisions, bonus, end_simulation_time, init_real_time = decode_result_file("task_4_result.txt")
        self.num_seconds.setText(end_simulation_time)
        self.num_ci.setText(str(len(ci)))
        self.num_cp.setText(str(len(cp)))
        self.num_cd.setText(str(len(cd)))
        self.num_penalty.setText(str(len(collisions)))
        self.bonus.setText(bonus)
        bonus_val = 0

        if bonus == 'Y':
            bonus_val = 200
        else:
            bonus_val = 0

        total_score = (600 - float(end_simulation_time)) + len(ci)*10 + len(cp)*50 + len(cd)*50 - len(collisions)*30 + bonus_val
        self.final_score.setText(str(total_score))




if __name__ == "__main__":
    import sys
    app = QtWidgets.QApplication(sys.argv)
    Dialog = QtWidgets.QDialog()
    ui = Ui_Dialog()
    ui.setupUi(Dialog)
    Dialog.show()
    sys.exit(app.exec_())
